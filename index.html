<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>木模戳印花</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/index.css" />
    <script src="js/style.js"></script>
  </head>

  <body>
    <header>
      <div class="logo">木模戳印花</div>
      <nav>
        <a href="index.html">首页</a>
        <a href="introduction.html">"模印"介绍</a>
        <a href="production.html">"模印"制作</a>
        <a href="activity.html">"模印"活动</a>
        <a href="craft.html">"模印"作品</a>
        <a href="interaction.html">"模印"交流</a>
        <a href="contact.html">关于我们</a>
        <a href="login.html">登录/注册</a>
        <a href="#" onclick="logout()">注销</a>
      </nav>
    </header>
    <section class="carousel">
      <div class="carousel-wrapper" id="carousel">
        <div class="carousel-track">
          <img src="assets/lbt1.png" alt="轮播图1" />
          <img src="assets/lbt2.png" alt="轮播图2" />
          <img src="assets/lbt5.png" alt="轮播图3" />
          <!-- 克隆第1张 -->
          <img src="assets/lbt1.png" alt="轮播图1-克隆" />
        </div>

        <!-- 左右按钮 -->
        <button class="carousel-btn prev">&#10094;</button>
        <button class="carousel-btn next">&#10095;</button>

        <!-- 底部圆点 -->
        <div class="carousel-dots">
          <span class="dot active"></span>
          <span class="dot"></span>
          <span class="dot"></span>
        </div>
      </div>
    </section>

    <section class="intro">
      <h2>探索木模戳印花的魅力</h2>
      <p>
        木模戳印花，是一种融合雕刻艺术与印染技艺的传统工艺。工匠以木为版，手工雕刻纹样图案，再通过天然染料层层套印于布匹之上。
        它不仅体现了劳动人民的智慧与审美，更承载着地域文化、民族信仰与生活情趣的多重意涵。从自然万象到几何图腾，从日用饰品到节庆礼服，木模戳印花以朴素而深厚的方式，延续着手工艺的温度与记忆。
        在现代视觉冲击与机械印染盛行的今天，木模戳印花以其“慢工出细活”的独特气质，成为连接传统与当代的文化桥梁。让我们一起走近这门古老的艺术，感受它所蕴含的独特魅力与非遗价值。
      </p>
    </section>
    <section class="embroidery-cards">
      <div class="card">
        <img src="assets/dw.jpg" alt="动物图案" />
        <h3>动物图案</h3>
        <p>表现骆驼、羚羊、鱼等动物，象征自然崇拜与生命力。</p>
      </div>
      <div class="card">
        <img src="assets/zw.jpg" alt="植物图案" />
        <h3>植物图案</h3>
        <p>以花卉、藤蔓为主，常见石榴、莲花，寓意吉祥繁盛。</p>
      </div>
      <div class="card">
        <img src="assets/jh.png" alt="几何图案" />
        <h3>几何图案</h3>
        <p>多采用对称结构与重复图形，展现传统的装饰美感。</p>
      </div>
      <div class="card">
        <img src="assets/mzta.jpg" alt="民族符号图案" />
        <h3>民族符号图案</h3>
        <p>包含民族图腾、传统纹样，承载文化身份与精神信仰。</p>
      </div>
    </section>
    <section class="history-section">
      <h2>木模戳印花的历史渊源</h2>
      <p>
        木模戳印花，又称木版印花，是一种源远流长的传统印染工艺。早在唐宋时期，中国就已广泛使用雕版进行布料印染。新疆地区的木模戳印花，融合了中原印染技术与西域民族图案风格，形成独具特色的区域文化艺术表达。
        <br />
      </p>
      <div class="history-images">
        <img src="assets/ls1.jpg" alt="历史图1" />
        <img src="assets/ls2.jpg" alt="历史图2" />
        <img src="assets/ls3.png" alt="历史图3" />
        <img src="assets/ls4.jpg" alt="历史图4" />
        <img src="assets/ls5.jpg" alt="历史图5" />
      </div>
      <p>
        <br />
        在新疆少数民族中，木模印花不仅是一种日常装饰手段，更承载着图腾崇拜、宗教信仰与生活审美的多重意义。通过代代相传的雕刻工艺、天然植物染料的使用，以及手工套印技法，这项工艺历经数百年依然焕发活力，是中华非物质文化遗产的重要组成部分。
      </p>
    </section>

    <footer>
      <div>
        <p>服务热线：18767031040</p>
        <p>地址：新疆维吾尔自治区乌鲁木齐市沙依巴克区农大东路311号</p>
        <p>技术支持：新疆农业大学</p>
      </div>
    </footer>
  </body>
  <script>
    const track = document.querySelector(".carousel-track");
    const slides = document.querySelectorAll(".carousel-track img");
    const dots = document.querySelectorAll(".carousel-dots .dot");
    const prevBtn = document.querySelector(".carousel-btn.prev");
    const nextBtn = document.querySelector(".carousel-btn.next");

    const totalSlides = slides.length; // 包括最后克隆的那一张
    const realSlideCount = totalSlides - 1; // 真正可点击的数量
    let index = 0;
    let isTransitioning = false;

    function updateSlide(i) {
      if (isTransitioning) return;
      isTransitioning = true;
      track.style.transition = "transform 2s ease";
      track.style.transform = `translateX(-${i * 100}%)`;

      // 更新圆点（只更新真实部分）
      dots.forEach((dot) => dot.classList.remove("active"));
      dots[i % realSlideCount].classList.add("active");
    }

    function nextSlide() {
      index++;
      updateSlide(index);

      // 到达克隆图（即 index == realSlideCount）
      if (index === totalSlides - 1) {
        setTimeout(() => {
          track.style.transition = "none";
          index = 0;
          track.style.transform = `translateX(0%)`;
          isTransitioning = false;
        }, 4000); // 等 transition 动画完成后跳转
      } else {
        setTimeout(() => {
          isTransitioning = false;
        }, 4000);
      }
    }

    function prevSlide() {
      if (index === 0) {
        // 从第1张往回跳到最后一张
        track.style.transition = "none";
        index = realSlideCount - 1;
        track.style.transform = `translateX(-${index * 100}%)`;
        requestAnimationFrame(() => {
          requestAnimationFrame(() => {
            updateSlide(index);
          });
        });
      } else {
        index--;
        updateSlide(index);
        setTimeout(() => {
          isTransitioning = false;
        }, 2000);
      }
    }

    let timer = setInterval(() => {
      nextSlide();
    }, 5000);

    function resetTimer() {
      clearInterval(timer);
      timer = setInterval(() => {
        nextSlide();
      }, 5000);
    }

    // 按钮事件
    nextBtn.addEventListener("click", () => {
      nextSlide();
      resetTimer();
    });

    prevBtn.addEventListener("click", () => {
      prevSlide();
      resetTimer();
    });

    // 圆点点击
    dots.forEach((dot, i) => {
      dot.addEventListener("click", () => {
        index = i;
        updateSlide(index);
        resetTimer();
      });
    });
  </script>
</html>
